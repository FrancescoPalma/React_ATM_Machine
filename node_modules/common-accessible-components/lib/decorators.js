'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports.uiFrameworkClasses = uiFrameworkClasses;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

function uiFrameworkClasses(target) {
    var component = target;
    component.getUIClasses = function (props) {
        var componentName = _lodash2['default'].camelCase(component.displayName);
        var componentConfig = _lodash2['default'].get(_config2['default'], ['uiFrameworks', props.framework, componentName]);

        var defaultClass = componentConfig && componentConfig['default'];
        var uiClasses = [];

        _lodash2['default'].each(componentConfig, function (val, index) {
            if (props[index]) {
                var value = _lodash2['default'].isFunction(val) ? val(props[index]) : val;
                uiClasses.push(value);
            }
        });

        if (defaultClass) {
            uiClasses.push(defaultClass);
        }

        return _lodash2['default'].fromPairs(_lodash2['default'].map(uiClasses, function (cName) {
            return [cName, true];
        }));
    };
}