webpackJsonp([1],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,u=n(1),l=(o(u),n(161)),i=n(338),s=n(198),p=o(s),c=document.querySelector("#reactOutput");(0,i.render)({$$typeof:a,type:l.Router,key:null,ref:null,props:r(l.Router.defaultProps,{routes:p.default,history:l.hashHistory}),_owner:null},c)},193:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var r=e,a=t,u=n;o=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,a);if(void 0!==l){if("value"in l)return l.value;var i=l.get;if(void 0===i)return;return i.call(u)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=a,n=u,o=!0,l=s=void 0}},p=n(1),c=o(p),f=n(199),d=o(f),y=n(333),h=o(y);n(403);var v=function(e){function t(e){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={maxWithdraw:300,minWithdraw:10,user:{accountBalance:485.22,name:"John Toe"},showValidationMessage:!1,validationObject:{},messages:{validation:"",screen:"",balance:"",success:""},withdrawAmount:"",notesContainer:{50:{count:10},20:{count:20},10:{count:20}},withdrawnNotes:d.default.displayWithdrawnCount({})}}return u(t,e),i(t,null,[{key:"propTypes",value:{children:p.PropTypes.any},enumerable:!0}]),i(t,[{key:"decrementBalance",value:function(e){var t=Number(e);if("number"==typeof t){var n=this.state.user.accountBalance-t,o=c.default.addons.update(this.state,{user:{accountBalance:{$set:n}},withdrawAmount:{$set:""},showValidationMessage:{$set:!0}});this.setState(o)}}},{key:"setWithdrawAmount",value:function(e){this.setState({withdrawAmount:e})}},{key:"displayScreenMessage",value:function(e){var t=c.default.addons.update(this.state,{messages:{screen:{$set:d.default.getScreenMessage(e)},balance:{$set:d.default.getBalanceMessage(e)}}});this.setState(t)}},{key:"displayValidationMessage",value:function(e){var t=c.default.addons.update(this.state,{messages:{validation:{$set:d.default.getValidationMessage(e)},success:{$set:""}},showValidationMessage:{$set:!1},withdrawnNotes:{$set:d.default.displayWithdrawnCount({})}});this.setState(t)}},{key:"handleShowValidation",value:function(){var e=c.default.addons.update(this.state,{showValidationMessage:{$set:!0}});this.setState(e)}},{key:"displaySuccessMessage",value:function(e){var t=c.default.addons.update(this.state,{messages:{success:{$set:d.default.getSuccessMessage(e)},validation:{$set:""}}});this.setState(t)}},{key:"getInvalidScenarios",value:function(e){var t=this.state.user.accountBalance,n=this.state,o=n.minWithdraw,r=n.maxWithdraw,a=n.notesContainer,u=d.default.getSumCountNotes(a);return[{condition:h.default.isNaN(e),message:"withdrawError"},{condition:!d.default.isMultipleOf(e,10),message:"notesError"},{condition:!d.default.isValueWithinRange(e,o,r),message:"rangeError"},{condition:!d.default.areAnyNotesLeft(withdraw,a),message:"notesAvailability"},{condition:!d.default.isAnyMoneyLeft(t,e),message:"balanceError",userMethod:t},{condition:!d.default.isAnyMoneyLeft(u,e),message:"amountError",totalMoney:u}]}},{key:"isWithdrawValid",value:function(e){var t=Number(e),n=function(e){if(e){var t=(e.condition,r(e,["condition"]));return l({isValid:!1},t)}},o=h.default.flow(this.getInvalidScenarios.bind(this),h.default.find(function(e){return e.condition===!0}),n),a=o(t)||{isValid:!0,message:"withdrawValidMsg"},u=l({},this.state,{validationObject:a});this.setState(u)}},{key:"calculateWithdrawnNotes",value:function(e,t){var n=d.default.calculateCountNotes(e,t),o=t.atmData.notesContainer,r=d.default.subtractCountFromTotal(n,o),a=d.default.getSumCountNotes(o)-e,u=c.default.addons.update(this.state,{totalMoney:{$set:a},notesContainer:{$set:r},withdrawnNotes:{$set:d.default.displayWithdrawnCount(n)}});this.setState(u)}},{key:"render",value:function(){return c.default.cloneElement(this.props.children,{atmData:this.state,decrementBalance:this.decrementBalance.bind(this),setWithdrawAmount:this.setWithdrawAmount.bind(this),displayScreenMessage:this.displayScreenMessage.bind(this),displayValidationMessage:this.displayValidationMessage.bind(this),handleShowValidation:this.handleShowValidation.bind(this),displaySuccessMessage:this.displaySuccessMessage.bind(this),isWithdrawValid:this.isWithdrawValid.bind(this),calculateWithdrawnNotes:this.calculateWithdrawnNotes.bind(this)})}}]),t}(p.Component);t.default=v,e.exports=t.default},194:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var r=e,a=t,u=n;o=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,a);if(void 0!==l){if("value"in l)return l.value;var i=l.get;if(void 0===i)return;return i.call(u)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=a,n=u,o=!0,l=s=void 0}},p=n(1),c=(o(p),n(74)),f={$$typeof:l,type:c.Link,key:null,ref:null,props:r(c.Link.defaultProps,{children:"Back",href:"/#/"}),_owner:null},d=function(e){function t(){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return u(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.displayScreenMessage(this.props)}},{key:"render",value:function(){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"h4",key:null,ref:null,props:{children:this.props.atmData.messages.screen},_owner:null},f,{$$typeof:l,type:"p",key:null,ref:null,props:{children:this.props.atmData.messages.balance},_owner:null}]},_owner:null}}}],[{key:"propTypes",value:{displayScreenMessage:p.PropTypes.func,atmData:p.PropTypes.object},enumerable:!0}]),t}(p.Component);t.default=d,e.exports=t.default},195:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var r=e,a=t,u=n;o=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,a);if(void 0!==l){if("value"in l)return l.value;var i=l.get;if(void 0===i)return;return i.call(u)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=a,n=u,o=!0,l=s=void 0}},p=n(1),c=(o(p),n(196)),f=o(c),d={$$typeof:l,type:"h4",key:null,ref:null,props:{children:"Select your option"},_owner:null},y={$$typeof:l,type:"nav",key:null,ref:null,props:{children:{$$typeof:l,type:f.default,key:null,ref:null,props:r(f.default.defaultProps,{}),_owner:null}},_owner:null},h=function(e){function t(){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return u(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.displayScreenMessage(this.props)}},{key:"render",value:function(){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"h2",key:null,ref:null,props:{children:this.props.atmData.messages.screen},_owner:null},d,y]},_owner:null}}}],[{key:"propTypes",value:{displayScreenMessage:p.PropTypes.func,atmData:p.PropTypes.object},enumerable:!0}]),t}(p.Component);t.default=h,e.exports=t.default},196:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,u=n(1),l=(o(u),n(74)),i={$$typeof:a,type:"ul",key:null,ref:null,props:{children:[{$$typeof:a,type:"li",key:null,ref:null,props:{children:{$$typeof:a,type:l.Link,key:null,ref:null,props:r(l.Link.defaultProps,{children:"Withdraw",href:"/#/withdraw"}),_owner:null}},_owner:null},{$$typeof:a,type:"li",key:null,ref:null,props:{children:{$$typeof:a,type:l.Link,key:null,ref:null,props:r(l.Link.defaultProps,{children:"Balance",href:"/#/balance"}),_owner:null}},_owner:null}]},_owner:null},s=function(){return i};t.default=s,e.exports=t.default},197:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var r=e,a=t,u=n;o=!1,null===r&&(r=Function.prototype);var l=Object.getOwnPropertyDescriptor(r,a);if(void 0!==l){if("value"in l)return l.value;var i=l.get;if(void 0===i)return;return i.call(u)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=a,n=u,o=!0,l=s=void 0}},p=n(1),c=(o(p),n(74)),f={$$typeof:l,type:c.Link,key:null,ref:null,props:r(c.Link.defaultProps,{children:"Back",href:"/#/"}),_owner:null},d={$$typeof:l,type:c.Button,key:null,ref:null,props:r(c.Button.defaultProps,{children:"Withdraw",name:"withdrawBtn",type:"submit"}),_owner:null},y=function(e){function t(){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return u(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.displayScreenMessage(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.atmData.showValidationMessage&&this.props.displayValidationMessage(e.atmData.validationObject)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=e.target.withdraw.value;""!==n&&this.props.atmData.validationObject.isValid?(this.props.decrementBalance(n),setTimeout(function(){t.props.displaySuccessMessage(t.props),t.props.calculateWithdrawnNotes(n,t.props)},3e3)):this.props.handleShowValidation()}},{key:"handleChange",value:function(e){var t=Number(e.target.value);"number"==typeof t&&this.props.setWithdrawAmount(t)}},{key:"handleKeyUp",value:function(e){var t=Number(e.target.value);"number"==typeof t&&this.props.isWithdrawValid(t)}},{key:"render",value:function(){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"h4",key:null,ref:null,props:{children:this.props.atmData.messages.screen},_owner:null},f,{$$typeof:l,type:"form",key:null,ref:null,props:{children:[{$$typeof:l,type:c.InputWithLabel,key:null,ref:null,props:r(c.InputWithLabel.defaultProps,{label:"withdraw",name:"withdraw",type:"number",value:this.props.atmData.withdrawAmount,onChange:this.handleChange.bind(this),onKeyUp:this.handleKeyUp.bind(this)}),_owner:null},d],onSubmit:this.handleSubmit.bind(this)},_owner:null},{$$typeof:l,type:"p",key:null,ref:null,props:{children:this.props.atmData.messages.validation},_owner:null},{$$typeof:l,type:"p",key:null,ref:null,props:{children:this.props.atmData.messages.success},_owner:null},{$$typeof:l,type:"p",key:null,ref:null,props:{children:this.props.atmData.withdrawnNotes},_owner:null}]},_owner:null}}}],[{key:"propTypes",value:{displayScreenMessage:p.PropTypes.func,isWithdrawValid:p.PropTypes.func,decrementBalance:p.PropTypes.func,setWithdrawAmount:p.PropTypes.func,displayValidationMessage:p.PropTypes.func,handleShowValidation:p.PropTypes.func,displaySuccessMessage:p.PropTypes.func,calculateWithdrawnNotes:p.PropTypes.func,atmData:p.PropTypes.object},enumerable:!0}]),t}(p.Component);t.default=y,e.exports=t.default},198:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,u=n(1),l=(o(u),n(161)),i=n(193),s=o(i),p=n(195),c=o(p),f=n(197),d=o(f),y=n(194),h=o(y);e.exports=[{$$typeof:a,type:l.Route,key:null,ref:null,props:r(l.Route.defaultProps,{children:[{$$typeof:a,type:l.IndexRoute,key:null,ref:null,props:r(l.IndexRoute.defaultProps,{component:c.default}),_owner:null},{$$typeof:a,type:l.Route,key:null,ref:null,props:r(l.Route.defaultProps,{path:"withdraw",component:d.default}),_owner:null},{$$typeof:a,type:l.Route,key:null,ref:null,props:r(l.Route.defaultProps,{path:"balance",component:h.default}),_owner:null}],path:"/",component:s.default}),_owner:null}]},199:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(336),a=o(r),u={isMultipleOf:function(e,t){return e%t==0},isValueWithinRange:function(e,t,n){return a.default.inRange(e,t,n+1)},isAnyMoneyLeft:function(e,t){return e>=t},getSumCountNotes:function(e){return a.default.reduce(e,function(e,t,n){return e+=t.count*n},0)},areAnyNotesLeft:function(e,t){var n=Math.floor(e/50);n=n>t[50].count?t[50].count:n;var o=e-50*n,r=Math.floor(o/20);r=r>t[20].count?t[20].count:r,o-=20*r;var a=Math.floor(o/10);return a=a>t[10].count?t[10].count:a,o-=10*a,0===o},calculateCountNotes:function(e,t){},subtractCountFromTotal:function(e,t){var n=a.default.get(e,"50"),o=a.default.get(e,"20"),r=a.default.get(e,"10"),u=a.default.get(t,"50"),l=a.default.get(t,"20"),i=a.default.get(t,"10");return{50:{count:u.count-n.count},20:{count:l.count-o.count},10:{count:i.count-r.count}}},getValidationMessage:function(e){var t={notesError:"There is only notes of £10, £20 and £50",notesAvailability:"The only available notes at this time are  ",rangeError:"Only withdraws between £300 and £10",amountError:"Sorry, but the availability is £"+e.totalMoney,balanceError:"Sorry, but your balance is £"+e.userMethod,withdrawError:"You are not providing a valid withdraw",withdrawValidMsg:"We are dealing with your request"};return t[e.message]},getScreenMessage:function(e){var t={"/":"Hello, "+e.atmData.user.name+", welcome to iDotBank","/withdraw":e.atmData.user.name+", do your withdraw","/balance":"Balance screen"};return t[e.location.pathname]},getBalanceMessage:function(e){var t=e.atmData.user;return t.name+", your current balance account is £"+t.accountBalance},getSuccessMessage:function(e){var t=e.atmData.user.name;return t+", don't forget to take your money!"},displayWithdrawnCount:function(e){if(void 0!==e[10]){var t="";return a.default.forOwn(e,function(e,n){t+="key="+n+" value="+e.count}),t}}};e.exports=u}});
//# sourceMappingURL=app.js.map